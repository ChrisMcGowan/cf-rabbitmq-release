---
name: rabbitmq-server
packages:
- util-linux # needed for setsid
- erlang
- rabbitmq-server

properties:
  rabbitmq-server.ssl.enable_tls1_0:
    description: "Enable support for TLS1.0. THis is vulnerable to the POODLE attack but required for JDK6 support"
    default: false
  rabbitmq-server.ssl.cacert:
    description: "CA Certificate for RabbitMQ SSL"
    default: ''
  rabbitmq-server.ssl.cert:
    description: "Certificate for RabbitMQ SSL"
    default: ''
  rabbitmq-server.ssl.key:
    description: "Key for RabbitMQ SSL"
    default: ''

  rabbitmq-server.plugins:
    description: "List of RabbitMQ plugins"

  rabbitmq-server.administrators.ops_manager.username:
    description: "Username for RabbitMQ operator admin"
  rabbitmq-server.administrators.ops_manager.password:
    description: "Password for RabbitMQ operator admin"
  rabbitmq-server.administrators.broker.username:
    description: "Username for RabbitMQ broker admin"
  rabbitmq-server.administrators.broker.password:
    description: "Password for RabbitMQ broker admin"

  rabbitmq-server.cookie:
    description: "Cookie"
  rabbitmq-server.static_ips:
    description: "Static IPs"


templates:
  plugins.sh.erb:           bin/plugins.sh
  rabbitmq-server.init.erb: bin/rabbitmq-server.init
  setup.sh.erb:             bin/setup.sh
  rabbitmq.config.erb:      etc/rabbitmq.config
  cacert.pem.erb:           etc/cacert.pem
  cert.pem.erb:             etc/cert.pem
  key.pem.erb:              etc/key.pem
